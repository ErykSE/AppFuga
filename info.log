2024-09-10 10:37:48,263 - INFO - 
==================================================
Starting initial data loading process
==================================================
2024-09-10 10:37:48,263 - INFO - !!! Energy management started !!!
2024-09-10 10:37:48,263 - INFO - 
-------------------- Loading Initial Data --------------------
2024-09-10 10:37:48,263 - INFO - Loaded operation mode: automatic
2024-09-10 10:37:48,263 - INFO - Starting to load initial data from files
2024-09-10 10:37:48,266 - INFO - [DEBUG] Attempting to update pv_panel: {'id': 1, 'name': 'PV Panel 1', 'priority': 1, 'max_output': 100, 'min_output': 10, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline'}
2024-09-10 10:37:48,266 - INFO - 1212Successfully created pv_panel instance: PV Panel 1
2024-09-10 10:37:48,267 - INFO - Added pv_panel: PV Panel 1 (Status: offline)
2024-09-10 10:37:48,267 - INFO - [DEBUG] Attempting to update pv_panel: {'id': 2, 'name': 'PV Panel 2', 'priority': 1, 'max_output': 120, 'min_output': 15, 'actual_output': 100, 'switch_status': True, 'device_status': 'online'}
2024-09-10 10:37:48,267 - INFO - 1212Successfully created pv_panel instance: PV Panel 2
2024-09-10 10:37:48,267 - INFO - Added pv_panel: PV Panel 2 (Status: online)
2024-09-10 10:37:48,267 - INFO - [DEBUG] Attempting to update wind_turbine: {'id': 3, 'name': 'Wind Turbine 1', 'priority': 2, 'max_output': 200, 'min_output': 20, 'actual_output': 40, 'switch_status': True, 'device_status': 'online'}
2024-09-10 10:37:48,267 - INFO - 1212Successfully created wind_turbine instance: Wind Turbine 1
2024-09-10 10:37:48,267 - INFO - Added wind_turbine: Wind Turbine 1 (Status: online)
2024-09-10 10:37:48,267 - INFO - [DEBUG] Attempting to update wind_turbine: {'id': 4, 'name': 'Wind Turbine 2', 'priority': 2, 'max_output': 180, 'min_output': 20, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline'}
2024-09-10 10:37:48,267 - INFO - 1212Successfully created wind_turbine instance: Wind Turbine 2
2024-09-10 10:37:48,267 - INFO - Added wind_turbine: Wind Turbine 2 (Status: offline)
2024-09-10 10:37:48,267 - INFO - [DEBUG] Attempting to update fuel_turbine: {'id': 5, 'name': 'Fuel Turbine 1', 'priority': 4, 'max_output': 300, 'min_output': 30, 'actual_output': 40, 'switch_status': True, 'device_status': 'online'}
2024-09-10 10:37:48,267 - INFO - 1212Successfully created fuel_turbine instance: Fuel Turbine 1
2024-09-10 10:37:48,267 - INFO - Added fuel_turbine: Fuel Turbine 1 (Status: online)
2024-09-10 10:37:48,267 - INFO - [DEBUG] Attempting to update fuel_cell: {'id': 6, 'name': 'Fuel Cell 1', 'priority': 3, 'max_output': 150, 'min_output': 15, 'actual_output': 25, 'switch_status': True, 'device_status': 'online'}
2024-09-10 10:37:48,267 - INFO - 1212Successfully created fuel_cell instance: Fuel Cell 1
2024-09-10 10:37:48,267 - INFO - Added fuel_cell: Fuel Cell 1 (Status: online)
2024-09-10 10:37:48,267 - INFO - [DEBUG] Attempting to update bess: {'id': 7, 'name': 'BESS 1', 'capacity': 350, 'charge_level': 200, 'switch_status': True, 'device_status': 'online'}
2024-09-10 10:37:48,267 - INFO - 1212Successfully created bess instance: BESS 1
2024-09-10 10:37:48,267 - INFO - New BESS added: BESS 1
2024-09-10 10:37:48,267 - INFO - Added power meter: Meter for PV Panel 1 for device ID: 1
2024-09-10 10:37:48,267 - INFO - Loaded power meter: Meter for PV Panel 1, Status: online, Reading: 15 kW, Device ID: 1
2024-09-10 10:37:48,267 - INFO - Added power meter: Meter for PV Panel 2 for device ID: 2
2024-09-10 10:37:48,267 - INFO - Loaded power meter: Meter for PV Panel 2, Status: online, Reading: 98 kW, Device ID: 2
2024-09-10 10:37:48,267 - INFO - Added power meter: Meter for Wind Turbine 1 for device ID: 3
2024-09-10 10:37:48,267 - INFO - Loaded power meter: Meter for Wind Turbine 1, Status: online, Reading: 42 kW, Device ID: 3
2024-09-10 10:37:48,267 - INFO - Added power meter: Meter for Fuel Turbine 1 for device ID: 5
2024-09-10 10:37:48,267 - INFO - Loaded power meter: Meter for Fuel Turbine 1, Status: online, Reading: 38 kW, Device ID: 5
2024-09-10 10:37:48,267 - INFO - Data loaded successfully.
2024-09-10 10:37:48,273 - INFO - Finished loading initial data
2024-09-10 10:37:48,273 - INFO - 
==================================================
Starting a new iteration in automatic mode
==================================================
2024-09-10 10:37:48,273 - INFO - 
-------------------- Starting device update based on meter readings --------------------
2024-09-10 10:37:48,273 - INFO - Checking 6 devices for updates based on meter readings
2024-09-10 10:37:48,273 - INFO - Checking device PV Panel 1 (ID: 1). Device status: offline, Meter status: online, Meter reading: 15 kW
2024-09-10 10:37:48,273 - WARNING - [WARNING] Updated PV Panel 1 status to online and set actual output to 15 kW based on meter reading. Please check the device communication.
2024-09-10 10:37:48,273 - INFO - Checking device PV Panel 2 (ID: 2). Device status: online, Meter status: online, Meter reading: 98 kW
2024-09-10 10:37:48,273 - INFO - Checking device Wind Turbine 1 (ID: 3). Device status: online, Meter status: online, Meter reading: 42 kW
2024-09-10 10:37:48,273 - INFO - No meter found for device Wind Turbine 2 (ID: 4)
2024-09-10 10:37:48,273 - INFO - Checking device Fuel Turbine 1 (ID: 5). Device status: online, Meter status: online, Meter reading: 38 kW
2024-09-10 10:37:48,273 - INFO - No meter found for device Fuel Cell 1 (ID: 6)
2024-09-10 10:37:48,273 - INFO - Updated 1 devices based on meter readings
2024-09-10 10:37:48,273 - INFO - Updated device: PV Panel 1 (ID: 1), New status: online, New output: 15 kW
2024-09-10 10:37:48,273 - INFO - 
-------------------- System Status Summary --------------------
2024-09-10 10:37:48,273 - INFO - !!! Total generated power: 220.00 kW !!!
2024-09-10 10:37:48,273 - INFO - !!! Total demand: 45.00 kW !!!
2024-09-10 10:37:48,274 - INFO - Number of active generating devices: 5
2024-09-10 10:37:48,274 - INFO - Number of inactive generating devices: 1
2024-09-10 10:37:48,274 - INFO - 
-------------------- Active Generating Devices --------------------
2024-09-10 10:37:48,274 - INFO -   - PV Panel 1: 15.00 kW / 100.00 kW
2024-09-10 10:37:48,274 - INFO -   - PV Panel 2: 100.00 kW / 120.00 kW
2024-09-10 10:37:48,274 - INFO -   - Wind Turbine 1: 40.00 kW / 200.00 kW
2024-09-10 10:37:48,274 - INFO -   - Fuel Turbine 1: 40.00 kW / 300.00 kW
2024-09-10 10:37:48,274 - INFO -   - Fuel Cell 1: 25.00 kW / 150.00 kW
2024-09-10 10:37:48,274 - INFO - 
-------------------- Inactive Generating Devices --------------------
2024-09-10 10:37:48,274 - INFO -   - Wind Turbine 2: max output 180.00 kW
2024-09-10 10:37:48,274 - INFO - 
-------------------- BESS Status --------------------
2024-09-10 10:37:48,274 - INFO - BESS charge level: 200.00 kWh / 350.00 kWh
2024-09-10 10:37:48,274 - INFO - 
-------------------- Energy Trading Status --------------------
2024-09-10 10:37:48,274 - INFO - Energy purchase: Available (Limit: 300.00 kWh, Current: 150.00 kWh)
2024-09-10 10:37:48,274 - INFO - Energy sale: Available (Limit: 200.00 kWh, Current: 50.00 kWh)
2024-09-10 10:37:48,274 - INFO - 
-------------------- Energy Consumer Grid Summary --------------------
2024-09-10 10:37:48,274 - INFO - !!! Total consumed power: 45.00 kW !!!
2024-09-10 10:37:48,274 - INFO - Total number of devices: 4
2024-09-10 10:37:48,274 - INFO - Number of active devices: 2
2024-09-10 10:37:48,274 - INFO - Number of inactive devices: 2
2024-09-10 10:37:48,274 - INFO - Number of active adjustable devices: 1
2024-09-10 10:37:48,274 - INFO - Number of active non-adjustable devices: 1
2024-09-10 10:37:48,274 - INFO - 
-------------------- Active Adjustable Devices --------------------
2024-09-10 10:37:48,274 - INFO -   - Adjustable Device 2: Current: 44.00 kW / Max: 44.00 kW
2024-09-10 10:37:48,274 - INFO - 
-------------------- Active Non-adjustable Devices --------------------
2024-09-10 10:37:48,274 - INFO -   - Non Adjustable Device 1: 1.00 kW
2024-09-10 10:37:48,274 - INFO - 
-------------------- Inactive Devices --------------------
2024-09-10 10:37:48,274 - INFO -   - Non Adjustable Device 2 (Non-adjustable)
2024-09-10 10:37:48,274 - INFO -   - Adjustable Device 1 (Adjustable)
2024-09-10 10:37:48,274 - INFO - checkTotal generated power: 220 kW
2024-09-10 10:37:48,274 - INFO - checkTotal demand power: 45 kW
2024-09-10 10:37:48,275 - INFO - 
-------------------- Power surplus detected: 175 kW - starting surplus management --------------------
2024-09-10 10:37:48,275 - INFO - Iteration 1, surplus remaining: 175.000000 kW
2024-09-10 10:37:48,275 - INFO - Attempting to perform the action: SurplusAction.BOTH
2024-09-10 10:37:48,275 - INFO - Executing action: SurplusAction.BOTH, type: <enum 'SurplusAction'>
2024-09-10 10:37:48,275 - INFO - XXXXXXXXXXXXXXXXXXXXXXXXXExecuting actionxdxdxdd: SurplusAction.BOTH
2024-09-10 10:37:48,275 - INFO - Remaining surplus: 175.000000
2024-09-10 10:37:48,275 - INFO - Batteryxxx (0.1) price (0.2 kW)
2024-09-10 10:37:48,275 - INFO - Sales priority: price factor (0.20) > battery factor (0.10)
2024-09-10 10:37:48,275 - INFO - Selling 150 kW of surplus energy. Total energy sold: 200 kW.
2024-09-10 10:37:48,275 - INFO - Successfully sold 150.000000 kW of energy.
2024-09-10 10:37:49,277 - INFO - BESS charged by 25.00 kW. New level: 225.00 kWh
2024-09-10 10:37:49,277 - INFO - Action result: {'success': True, 'amount': 175.0}
2024-09-10 10:37:49,277 - INFO - Action SurplusAction.BOTH managed 175.000000 kW. Surplus remaining: 0.000000 kW
2024-09-10 10:37:49,277 - INFO - !!! Managed 175.0 kW of surplus. Remaining: 0.0 kW !!!
2024-09-10 10:37:49,277 - INFO - Surplus management completed. The entire surplus has been dissolved.
2024-09-10 10:37:49,277 - INFO - 
-------------------- System Status Summary --------------------
2024-09-10 10:37:49,277 - INFO - !!! Total generated power: 220.00 kW !!!
2024-09-10 10:37:49,277 - INFO - !!! Total demand: 45.00 kW !!!
2024-09-10 10:37:49,277 - INFO - Number of active generating devices: 5
2024-09-10 10:37:49,277 - INFO - Number of inactive generating devices: 1
2024-09-10 10:37:49,277 - INFO - 
-------------------- Active Generating Devices --------------------
2024-09-10 10:37:49,277 - INFO -   - PV Panel 1: 15.00 kW / 100.00 kW
2024-09-10 10:37:49,277 - INFO -   - PV Panel 2: 100.00 kW / 120.00 kW
2024-09-10 10:37:49,277 - INFO -   - Wind Turbine 1: 40.00 kW / 200.00 kW
2024-09-10 10:37:49,277 - INFO -   - Fuel Turbine 1: 40.00 kW / 300.00 kW
2024-09-10 10:37:49,277 - INFO -   - Fuel Cell 1: 25.00 kW / 150.00 kW
2024-09-10 10:37:49,277 - INFO - 
-------------------- Inactive Generating Devices --------------------
2024-09-10 10:37:49,278 - INFO -   - Wind Turbine 2: max output 180.00 kW
2024-09-10 10:37:49,278 - INFO - 
-------------------- BESS Status --------------------
2024-09-10 10:37:49,278 - INFO - BESS charge level: 225.00 kWh / 350.00 kWh
2024-09-10 10:37:49,278 - INFO - 
-------------------- Energy Trading Status --------------------
2024-09-10 10:37:49,278 - INFO - Energy purchase: Available (Limit: 300.00 kWh, Current: 150.00 kWh)
2024-09-10 10:37:49,278 - INFO - Energy sale: Not available (Limit: 200.00 kWh, Current: 200.00 kWh)
2024-09-10 10:37:49,278 - INFO - 
-------------------- Energy Consumer Grid Summary --------------------
2024-09-10 10:37:49,278 - INFO - !!! Total consumed power: 45.00 kW !!!
2024-09-10 10:37:49,278 - INFO - Total number of devices: 4
2024-09-10 10:37:49,278 - INFO - Number of active devices: 2
2024-09-10 10:37:49,278 - INFO - Number of inactive devices: 2
2024-09-10 10:37:49,278 - INFO - Number of active adjustable devices: 1
2024-09-10 10:37:49,279 - INFO - Number of active non-adjustable devices: 1
2024-09-10 10:37:49,279 - INFO - 
-------------------- Active Adjustable Devices --------------------
2024-09-10 10:37:49,279 - INFO -   - Adjustable Device 2: Current: 44.00 kW / Max: 44.00 kW
2024-09-10 10:37:49,279 - INFO - 
-------------------- Active Non-adjustable Devices --------------------
2024-09-10 10:37:49,279 - INFO -   - Non Adjustable Device 1: 1.00 kW
2024-09-10 10:37:49,279 - INFO - 
-------------------- Inactive Devices --------------------
2024-09-10 10:37:49,279 - INFO -   - Non Adjustable Device 2 (Non-adjustable)
2024-09-10 10:37:49,279 - INFO -   - Adjustable Device 1 (Adjustable)
2024-09-10 10:37:49,279 - INFO - 
-------------------- Ending of iteration --------------------
2024-09-10 10:37:49,279 - INFO - Live data saved to live_data.json
2024-09-10 10:37:49,280 - INFO - Live contract data saved to live_contract_data.json
2024-09-10 10:37:49,397 - INFO - Iteration completed in 1.12 seconds
2024-09-10 10:37:49,397 - INFO - !!! Waiting 15 seconds for next iteration !!!
2024-09-10 10:38:01,706 - INFO - !!! Energy management stopping !!!
2024-09-10 10:38:01,706 - INFO - !!! Energy management stopped !!!
