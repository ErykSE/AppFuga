2024-08-19 10:09:44,038 - INFO - Attempting to update pv_panel: {'id': 1, 'name': 'PV Panel 1', 'priority': 1, 'max_output': 100, 'min_output': 10, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline'}
2024-08-19 10:09:44,039 - INFO - Successfully created pv_panel instance: PV Panel 1
2024-08-19 10:09:44,039 - INFO - Added pv_panel: PV Panel 1 (Status: offline)
2024-08-19 10:09:44,039 - INFO - Attempting to update pv_panel: {'id': 2, 'name': 'PV Panel 2', 'priority': 1, 'max_output': 120, 'min_output': 15, 'actual_output': 100, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,039 - INFO - Successfully created pv_panel instance: PV Panel 2
2024-08-19 10:09:44,039 - INFO - Added pv_panel: PV Panel 2 (Status: online)
2024-08-19 10:09:44,041 - INFO - Attempting to update wind_turbine: {'id': 3, 'name': 'Wind Turbine 1', 'priority': 2, 'max_output': 200, 'min_output': 20, 'actual_output': 40, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,041 - INFO - Successfully created wind_turbine instance: Wind Turbine 1
2024-08-19 10:09:44,042 - INFO - Added wind_turbine: Wind Turbine 1 (Status: online)
2024-08-19 10:09:44,042 - INFO - Attempting to update wind_turbine: {'id': 4, 'name': 'Wind Turbine 2', 'priority': 2, 'max_output': 180, 'min_output': 20, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline'}
2024-08-19 10:09:44,042 - INFO - Successfully created wind_turbine instance: Wind Turbine 2
2024-08-19 10:09:44,042 - INFO - Added wind_turbine: Wind Turbine 2 (Status: offline)
2024-08-19 10:09:44,043 - INFO - Attempting to update fuel_turbine: {'id': 5, 'name': 'Fuel Turbine 1', 'priority': 4, 'max_output': 300, 'min_output': 30, 'actual_output': 40, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,043 - INFO - Successfully created fuel_turbine instance: Fuel Turbine 1
2024-08-19 10:09:44,043 - INFO - Added fuel_turbine: Fuel Turbine 1 (Status: online)
2024-08-19 10:09:44,043 - INFO - Attempting to update fuel_cell: {'id': 6, 'name': 'Fuel Cell 1', 'priority': 3, 'max_output': 150, 'min_output': 15, 'actual_output': 25, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,043 - INFO - Successfully created fuel_cell instance: Fuel Cell 1
2024-08-19 10:09:44,043 - INFO - Added fuel_cell: Fuel Cell 1 (Status: online)
2024-08-19 10:09:44,043 - INFO - Attempting to update bess: {'id': 7, 'name': 'BESS 1', 'capacity': 350, 'charge_level': 200, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,044 - INFO - Successfully created bess instance: BESS 1
2024-08-19 10:09:44,044 - INFO - New BESS added: BESS 1
2024-08-19 10:09:44,045 - INFO - Added power meter: Meter for PV Panel 1 for device ID: 1
2024-08-19 10:09:44,045 - INFO - Loaded power meter: Meter for PV Panel 1, Status: online, Reading: 15 kW, Device ID: 1
2024-08-19 10:09:44,045 - INFO - Added power meter: Meter for PV Panel 2 for device ID: 2
2024-08-19 10:09:44,045 - INFO - Loaded power meter: Meter for PV Panel 2, Status: online, Reading: 98 kW, Device ID: 2
2024-08-19 10:09:44,045 - INFO - Added power meter: Meter for Wind Turbine 1 for device ID: 3
2024-08-19 10:09:44,045 - INFO - Loaded power meter: Meter for Wind Turbine 1, Status: online, Reading: 42 kW, Device ID: 3
2024-08-19 10:09:44,045 - INFO - Added power meter: Meter for Fuel Turbine 1 for device ID: 5
2024-08-19 10:09:44,046 - INFO - Loaded power meter: Meter for Fuel Turbine 1, Status: online, Reading: 38 kW, Device ID: 5
2024-08-19 10:09:44,046 - INFO - Data loaded successfully.
2024-08-19 10:09:44,052 - INFO - Energy management started
2024-08-19 10:09:44,052 - INFO - Loaded operation mode: semi-automatic
2024-08-19 10:09:44,053 - INFO - Attempting to update pv_panel: {'id': 1, 'name': 'PV Panel 1', 'priority': 1, 'max_output': 100, 'min_output': 10, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline'}
2024-08-19 10:09:44,053 - INFO - Pv_panel PV Panel 1 updated successfully.
2024-08-19 10:09:44,053 - INFO - Attempting to update pv_panel: {'id': 2, 'name': 'PV Panel 2', 'priority': 1, 'max_output': 120, 'min_output': 15, 'actual_output': 100, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,053 - INFO - Pv_panel PV Panel 2 updated successfully.
2024-08-19 10:09:44,053 - INFO - Attempting to update wind_turbine: {'id': 3, 'name': 'Wind Turbine 1', 'priority': 2, 'max_output': 200, 'min_output': 20, 'actual_output': 40, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,053 - INFO - Wind_turbine Wind Turbine 1 updated successfully.
2024-08-19 10:09:44,054 - INFO - Attempting to update wind_turbine: {'id': 4, 'name': 'Wind Turbine 2', 'priority': 2, 'max_output': 180, 'min_output': 20, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline'}
2024-08-19 10:09:44,054 - INFO - Wind_turbine Wind Turbine 2 updated successfully.
2024-08-19 10:09:44,054 - INFO - Attempting to update fuel_turbine: {'id': 5, 'name': 'Fuel Turbine 1', 'priority': 4, 'max_output': 300, 'min_output': 30, 'actual_output': 40, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,054 - INFO - Fuel_turbine Fuel Turbine 1 updated successfully.
2024-08-19 10:09:44,054 - INFO - Attempting to update fuel_cell: {'id': 6, 'name': 'Fuel Cell 1', 'priority': 3, 'max_output': 150, 'min_output': 15, 'actual_output': 25, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,054 - INFO - Fuel_cell Fuel Cell 1 updated successfully.
2024-08-19 10:09:44,054 - INFO - Attempting to update bess: {'id': 7, 'name': 'BESS 1', 'capacity': 350, 'charge_level': 200, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:09:44,055 - INFO - BESS BESS 1 updated successfully.
2024-08-19 10:09:44,055 - INFO - Added power meter: Meter for PV Panel 1 for device ID: 1
2024-08-19 10:09:44,055 - INFO - Loaded power meter: Meter for PV Panel 1, Status: online, Reading: 15 kW, Device ID: 1
2024-08-19 10:09:44,055 - INFO - Added power meter: Meter for PV Panel 2 for device ID: 2
2024-08-19 10:09:44,055 - INFO - Loaded power meter: Meter for PV Panel 2, Status: online, Reading: 98 kW, Device ID: 2
2024-08-19 10:09:44,056 - INFO - Added power meter: Meter for Wind Turbine 1 for device ID: 3
2024-08-19 10:09:44,056 - INFO - Loaded power meter: Meter for Wind Turbine 1, Status: online, Reading: 42 kW, Device ID: 3
2024-08-19 10:09:44,056 - INFO - Added power meter: Meter for Fuel Turbine 1 for device ID: 5
2024-08-19 10:09:44,056 - INFO - Loaded power meter: Meter for Fuel Turbine 1, Status: online, Reading: 38 kW, Device ID: 5
2024-08-19 10:09:44,056 - INFO - Data loaded successfully.
2024-08-19 10:09:44,060 - INFO - Loaded initial data
2024-08-19 10:09:44,060 - INFO - Starting a new iteration in semi-automatic mode
2024-08-19 10:09:44,060 - INFO - Starting device update based on meter readings
2024-08-19 10:09:44,060 - INFO - Checking 6 devices for updates based on meter readings
2024-08-19 10:09:44,060 - INFO - Checking device PV Panel 1 (ID: 1). Device status: offline, Meter status: online, Meter reading: 15 kW
2024-08-19 10:09:44,061 - WARNING - Updated PV Panel 1 status to online and set actual output to 15 kW based on meter reading. Please check the device communication.
2024-08-19 10:09:44,061 - INFO - Checking device PV Panel 2 (ID: 2). Device status: online, Meter status: online, Meter reading: 98 kW
2024-08-19 10:09:44,061 - INFO - Checking device Wind Turbine 1 (ID: 3). Device status: online, Meter status: online, Meter reading: 42 kW
2024-08-19 10:09:44,061 - INFO - No meter found for device Wind Turbine 2 (ID: 4)
2024-08-19 10:09:44,061 - INFO - Checking device Fuel Turbine 1 (ID: 5). Device status: online, Meter status: online, Meter reading: 38 kW
2024-08-19 10:09:44,061 - INFO - No meter found for device Fuel Cell 1 (ID: 6)
2024-08-19 10:09:44,062 - INFO - Updated 1 devices based on meter readings
2024-08-19 10:09:44,062 - INFO - Updated device: PV Panel 1 (ID: 1), New status: online, New output: 15 kW
2024-08-19 10:09:44,062 - INFO - System status summary:
2024-08-19 10:09:44,062 - INFO - Total generated power: 220 kW
2024-08-19 10:09:44,062 - INFO - Total demand: 109 kW
2024-08-19 10:09:44,062 - INFO - Number of active generating devices: 5
2024-08-19 10:09:44,063 - INFO - Number of inactive generating devices: 1
2024-08-19 10:09:44,063 - INFO - Active generating devices:
2024-08-19 10:09:44,063 - INFO -   - PV Panel 1: 15 kW / 100 kW
2024-08-19 10:09:44,063 - INFO -   - PV Panel 2: 100 kW / 120 kW
2024-08-19 10:09:44,063 - INFO -   - Wind Turbine 1: 40 kW / 200 kW
2024-08-19 10:09:44,063 - INFO -   - Fuel Turbine 1: 40 kW / 300 kW
2024-08-19 10:09:44,063 - INFO -   - Fuel Cell 1: 25 kW / 150 kW
2024-08-19 10:09:44,064 - INFO - Inactive generating devices:
2024-08-19 10:09:44,064 - INFO -   - Wind Turbine 2: max output 180 kW
2024-08-19 10:09:44,064 - INFO - BESS charge level: 200 kWh / 350 kWh
2024-08-19 10:09:44,064 - INFO - Energy purchase: Available (Limit: 300 kWh, Current: 150 kWh)
2024-08-19 10:09:44,064 - INFO - Energy sale: Available (Limit: 200 kWh, Current: 50 kWh)
2024-08-19 10:09:44,064 - INFO - BESS charge level before actions: 200.00 kWh
2024-08-19 10:09:44,064 - INFO - Total generated power: 220 kW
2024-08-19 10:09:44,065 - INFO - Total demand power: 109 kW
2024-08-19 10:09:44,065 - INFO - Power surplus detected: 111 kW - starting surplus management
2024-08-19 10:09:44,065 - INFO - Managing surplus in semi-automatic mode: 111 kW
2024-08-19 10:09:44,065 - INFO - BESS available: True, Export possible: True
2024-08-19 10:09:44,065 - INFO - Generated 1 possible actions
2024-08-19 10:09:44,066 - INFO - Saved 1 pending actions
2024-08-19 10:09:44,066 - INFO - Pending action: {
  "id": "0cb16073-5f17-41ff-a332-687f48a649ba",
  "device_id": 7,
  "device_name": "BESS 1",
  "device_type": "BESS",
  "action": "charge:111",
  "current_output": 200,
  "proposed_output": 311,
  "reduction": 111
}
2024-08-19 10:09:44,067 - INFO - Successfully verified pending actions file. Content: [
  {
    "id": "0cb16073-5f17-41ff-a332-687f48a649ba",
    "device_id": 7,
    "device_name": "BESS 1",
    "device_type": "BESS",
    "action": "charge:111",
    "current_output": 200,
    "proposed_output": 311,
    "reduction": 111
  }
]
2024-08-19 10:09:44,067 - INFO - Generated operator decisions:
2024-08-19 10:09:44,067 - INFO - Decision: {
  "approved": true,
  "action_id": "0cb16073-5f17-41ff-a332-687f48a649ba"
}
2024-08-19 10:09:44,068 - INFO - Saved 1 operator decisions
2024-08-19 10:09:44,068 - INFO - Operator decision: {
  "approved": true,
  "action_id": "0cb16073-5f17-41ff-a332-687f48a649ba"
}
2024-08-19 10:09:44,069 - INFO - Successfully verified operator decisions file. Content: [
  {
    "approved": true,
    "action_id": "0cb16073-5f17-41ff-a332-687f48a649ba"
  }
]
2024-08-19 10:09:44,069 - INFO - Action approved: {
  "id": "0cb16073-5f17-41ff-a332-687f48a649ba",
  "device_id": 7,
  "device_name": "BESS 1",
  "device_type": "BESS",
  "action": "charge:111",
  "current_output": 200,
  "proposed_output": 311,
  "reduction": 111
}
2024-08-19 10:09:49,070 - INFO - Cleared pending actions file
2024-08-19 10:09:49,071 - INFO - Successfully verified cleared pending actions file. Content: []
2024-08-19 10:09:49,071 - INFO - Cleared operator decisions file
2024-08-19 10:09:49,072 - INFO - Successfully verified cleared operator decisions file. Content: []
2024-08-19 10:09:49,072 - INFO - Surplus management completed. Approved actions: 1, Initial surplus: 111 kW, Remaining surplus: 0 kW
2024-08-19 10:09:49,072 - INFO - Executing approved actions:
2024-08-19 10:09:49,072 - INFO - Processing action: {'id': '0cb16073-5f17-41ff-a332-687f48a649ba', 'device_id': 7, 'device_name': 'BESS 1', 'device_type': 'BESS', 'action': 'charge:111', 'current_output': 200, 'proposed_output': 311, 'reduction': 111}
2024-08-19 10:09:49,072 - INFO - Searching for device with ID: 7, type: BESS
2024-08-19 10:09:49,073 - INFO - Device found: BESS 1, type: BESS
2024-08-19 10:09:49,073 - INFO - Before action: BESS 1 charge level: 200 kWh
2024-08-19 10:09:49,073 - INFO - Performing action: BESS 1 - charge:111
2024-08-19 10:09:50,075 - INFO - BESS charged by 111.00 kW. New level: 311.00 kWh
2024-08-19 10:09:50,076 - INFO - After action: BESS 1 charge level: 311.0 kWh
2024-08-19 10:09:50,076 - INFO - Executed charge:111 for BESS 1: Success. New charge level: 311.0 kWh
2024-08-19 10:09:50,076 - INFO - System status summary:
2024-08-19 10:09:50,077 - INFO - Total generated power: 220 kW
2024-08-19 10:09:50,077 - INFO - Total demand: 109 kW
2024-08-19 10:09:50,077 - INFO - Number of active generating devices: 5
2024-08-19 10:09:50,077 - INFO - Number of inactive generating devices: 1
2024-08-19 10:09:50,078 - INFO - Active generating devices:
2024-08-19 10:09:50,078 - INFO -   - PV Panel 1: 15 kW / 100 kW
2024-08-19 10:09:50,078 - INFO -   - PV Panel 2: 100 kW / 120 kW
2024-08-19 10:09:50,078 - INFO -   - Wind Turbine 1: 40 kW / 200 kW
2024-08-19 10:09:50,079 - INFO -   - Fuel Turbine 1: 40 kW / 300 kW
2024-08-19 10:09:50,079 - INFO -   - Fuel Cell 1: 25 kW / 150 kW
2024-08-19 10:09:50,079 - INFO - Inactive generating devices:
2024-08-19 10:09:50,079 - INFO -   - Wind Turbine 2: max output 180 kW
2024-08-19 10:09:50,079 - INFO - BESS charge level: 311.0 kWh / 350 kWh
2024-08-19 10:09:50,079 - INFO - Energy purchase: Available (Limit: 300 kWh, Current: 150 kWh)
2024-08-19 10:09:50,080 - INFO - Energy sale: Available (Limit: 200 kWh, Current: 50 kWh)
2024-08-19 10:09:50,080 - INFO - System status summary:
2024-08-19 10:09:50,080 - INFO - Total generated power: 220 kW
2024-08-19 10:09:50,080 - INFO - Total demand: 109 kW
2024-08-19 10:09:50,080 - INFO - Number of active generating devices: 5
2024-08-19 10:09:50,080 - INFO - Number of inactive generating devices: 1
2024-08-19 10:09:50,081 - INFO - Active generating devices:
2024-08-19 10:09:50,081 - INFO -   - PV Panel 1: 15 kW / 100 kW
2024-08-19 10:09:50,081 - INFO -   - PV Panel 2: 100 kW / 120 kW
2024-08-19 10:09:50,081 - INFO -   - Wind Turbine 1: 40 kW / 200 kW
2024-08-19 10:09:50,081 - INFO -   - Fuel Turbine 1: 40 kW / 300 kW
2024-08-19 10:09:50,081 - INFO -   - Fuel Cell 1: 25 kW / 150 kW
2024-08-19 10:09:50,082 - INFO - Inactive generating devices:
2024-08-19 10:09:50,082 - INFO -   - Wind Turbine 2: max output 180 kW
2024-08-19 10:09:50,082 - INFO - BESS charge level: 311.0 kWh / 350 kWh
2024-08-19 10:09:50,083 - INFO - Energy purchase: Available (Limit: 300 kWh, Current: 150 kWh)
2024-08-19 10:09:50,083 - INFO - Energy sale: Available (Limit: 200 kWh, Current: 50 kWh)
2024-08-19 10:09:50,084 - INFO - Live data saved to live_data.json
2024-08-19 10:09:50,085 - INFO - Live contract data saved to live_contract_data.json
2024-08-19 10:09:50,201 - INFO - Iteration completed in 6.14 seconds
2024-08-19 10:09:50,202 - INFO - BESS charge level after actions: 311.00 kWh
2024-08-19 10:09:50,202 - INFO - Waiting 15 seconds for next iteration
2024-08-19 10:10:05,206 - INFO - Loaded operation mode: semi-automatic
2024-08-19 10:10:05,206 - INFO - Attempting to update pv_panel: {'id': 1, 'name': 'PV Panel 1', 'priority': 1, 'max_output': 100, 'min_output': 10, 'actual_output': 15, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:05,207 - INFO - Pv_panel PV Panel 1 updated successfully.
2024-08-19 10:10:05,207 - INFO - Attempting to update pv_panel: {'id': 2, 'name': 'PV Panel 2', 'priority': 1, 'max_output': 120, 'min_output': 15, 'actual_output': 100, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:05,208 - INFO - Pv_panel PV Panel 2 updated successfully.
2024-08-19 10:10:05,208 - INFO - Attempting to update wind_turbine: {'id': 3, 'name': 'Wind Turbine 1', 'priority': 2, 'max_output': 200, 'min_output': 20, 'actual_output': 40, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:05,208 - INFO - Wind_turbine Wind Turbine 1 updated successfully.
2024-08-19 10:10:05,209 - INFO - Attempting to update wind_turbine: {'id': 4, 'name': 'Wind Turbine 2', 'priority': 2, 'max_output': 180, 'min_output': 20, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:05,209 - INFO - Wind_turbine Wind Turbine 2 updated successfully.
2024-08-19 10:10:05,209 - INFO - Attempting to update fuel_turbine: {'id': 5, 'name': 'Fuel Turbine 1', 'priority': 4, 'max_output': 300, 'min_output': 30, 'actual_output': 40, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:05,209 - INFO - Fuel_turbine Fuel Turbine 1 updated successfully.
2024-08-19 10:10:05,210 - INFO - Attempting to update fuel_cell: {'id': 6, 'name': 'Fuel Cell 1', 'priority': 3, 'max_output': 150, 'min_output': 15, 'actual_output': 25, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:05,210 - INFO - Fuel_cell Fuel Cell 1 updated successfully.
2024-08-19 10:10:05,210 - INFO - Attempting to update bess: {'id': 7, 'name': 'BESS 1', 'capacity': 350, 'charge_level': 311.0, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:10:05,211 - INFO - BESS BESS 1 updated successfully.
2024-08-19 10:10:05,211 - INFO - Data loaded successfully.
2024-08-19 10:10:05,216 - INFO - Loaded live data
2024-08-19 10:10:05,217 - INFO - Starting a new iteration in semi-automatic mode
2024-08-19 10:10:05,217 - INFO - Starting device update based on meter readings
2024-08-19 10:10:05,217 - INFO - Checking 6 devices for updates based on meter readings
2024-08-19 10:10:05,217 - INFO - Checking device PV Panel 1 (ID: 1). Device status: online, Meter status: online, Meter reading: 15 kW
2024-08-19 10:10:05,218 - INFO - Checking device PV Panel 2 (ID: 2). Device status: online, Meter status: online, Meter reading: 98 kW
2024-08-19 10:10:05,218 - INFO - Checking device Wind Turbine 1 (ID: 3). Device status: online, Meter status: online, Meter reading: 42 kW
2024-08-19 10:10:05,218 - INFO - No meter found for device Wind Turbine 2 (ID: 4)
2024-08-19 10:10:05,218 - INFO - Checking device Fuel Turbine 1 (ID: 5). Device status: online, Meter status: online, Meter reading: 38 kW
2024-08-19 10:10:05,218 - INFO - No meter found for device Fuel Cell 1 (ID: 6)
2024-08-19 10:10:05,219 - INFO - System status summary:
2024-08-19 10:10:05,219 - INFO - Total generated power: 220 kW
2024-08-19 10:10:05,219 - INFO - Total demand: 109 kW
2024-08-19 10:10:05,220 - INFO - Number of active generating devices: 5
2024-08-19 10:10:05,220 - INFO - Number of inactive generating devices: 1
2024-08-19 10:10:05,220 - INFO - Active generating devices:
2024-08-19 10:10:05,220 - INFO -   - PV Panel 1: 15 kW / 100 kW
2024-08-19 10:10:05,221 - INFO -   - PV Panel 2: 100 kW / 120 kW
2024-08-19 10:10:05,221 - INFO -   - Wind Turbine 1: 40 kW / 200 kW
2024-08-19 10:10:05,221 - INFO -   - Fuel Turbine 1: 40 kW / 300 kW
2024-08-19 10:10:05,221 - INFO -   - Fuel Cell 1: 25 kW / 150 kW
2024-08-19 10:10:05,221 - INFO - Inactive generating devices:
2024-08-19 10:10:05,221 - INFO -   - Wind Turbine 2: max output 180 kW
2024-08-19 10:10:05,222 - INFO - BESS charge level: 311.0 kWh / 350 kWh
2024-08-19 10:10:05,222 - INFO - Energy purchase: Available (Limit: 300 kWh, Current: 150 kWh)
2024-08-19 10:10:05,222 - INFO - Energy sale: Available (Limit: 200 kWh, Current: 50 kWh)
2024-08-19 10:10:05,222 - INFO - BESS charge level before actions: 311.00 kWh
2024-08-19 10:10:05,222 - INFO - Total generated power: 220 kW
2024-08-19 10:10:05,222 - INFO - Total demand power: 109 kW
2024-08-19 10:10:05,223 - INFO - Power surplus detected: 111 kW - starting surplus management
2024-08-19 10:10:05,223 - INFO - Managing surplus in semi-automatic mode: 111 kW
2024-08-19 10:10:05,223 - INFO - BESS available: True, Export possible: True
2024-08-19 10:10:05,223 - INFO - Generated 2 possible actions
2024-08-19 10:10:05,224 - INFO - Saved 2 pending actions
2024-08-19 10:10:05,224 - INFO - Pending action: {
  "id": "e7b91a20-a083-496b-a06c-eae965fb76c1",
  "device_id": 7,
  "device_name": "BESS 1",
  "device_type": "BESS",
  "action": "charge:39.0",
  "current_output": 311.0,
  "proposed_output": 350.0,
  "reduction": 39.0
}
2024-08-19 10:10:05,225 - INFO - Pending action: {
  "id": "c4ade6d6-bc30-4787-9f00-bffe5b9cf09d",
  "device_id": "OSD",
  "device_name": "OSD",
  "device_type": "OSD",
  "action": "sell:72.0",
  "current_output": 50,
  "proposed_output": 122.0,
  "reduction": 72.0
}
2024-08-19 10:10:05,225 - INFO - Successfully verified pending actions file. Content: [
  {
    "id": "e7b91a20-a083-496b-a06c-eae965fb76c1",
    "device_id": 7,
    "device_name": "BESS 1",
    "device_type": "BESS",
    "action": "charge:39.0",
    "current_output": 311.0,
    "proposed_output": 350.0,
    "reduction": 39.0
  },
  {
    "id": "c4ade6d6-bc30-4787-9f00-bffe5b9cf09d",
    "device_id": "OSD",
    "device_name": "OSD",
    "device_type": "OSD",
    "action": "sell:72.0",
    "current_output": 50,
    "proposed_output": 122.0,
    "reduction": 72.0
  }
]
2024-08-19 10:10:05,225 - INFO - Generated operator decisions:
2024-08-19 10:10:05,226 - INFO - Decision: {
  "approved": false,
  "action_id": "e7b91a20-a083-496b-a06c-eae965fb76c1"
}
2024-08-19 10:10:05,226 - INFO - Decision: {
  "approved": false,
  "action_id": "c4ade6d6-bc30-4787-9f00-bffe5b9cf09d"
}
2024-08-19 10:10:05,226 - INFO - Saved 2 operator decisions
2024-08-19 10:10:05,227 - INFO - Operator decision: {
  "approved": false,
  "action_id": "e7b91a20-a083-496b-a06c-eae965fb76c1"
}
2024-08-19 10:10:05,227 - INFO - Operator decision: {
  "approved": false,
  "action_id": "c4ade6d6-bc30-4787-9f00-bffe5b9cf09d"
}
2024-08-19 10:10:05,227 - INFO - Successfully verified operator decisions file. Content: [
  {
    "approved": false,
    "action_id": "e7b91a20-a083-496b-a06c-eae965fb76c1"
  },
  {
    "approved": false,
    "action_id": "c4ade6d6-bc30-4787-9f00-bffe5b9cf09d"
  }
]
2024-08-19 10:10:05,227 - INFO - Action rejected: {
  "id": "e7b91a20-a083-496b-a06c-eae965fb76c1",
  "device_id": 7,
  "device_name": "BESS 1",
  "device_type": "BESS",
  "action": "charge:39.0",
  "current_output": 311.0,
  "proposed_output": 350.0,
  "reduction": 39.0
}
2024-08-19 10:10:05,228 - INFO - Action rejected: {
  "id": "c4ade6d6-bc30-4787-9f00-bffe5b9cf09d",
  "device_id": "OSD",
  "device_name": "OSD",
  "device_type": "OSD",
  "action": "sell:72.0",
  "current_output": 50,
  "proposed_output": 122.0,
  "reduction": 72.0
}
2024-08-19 10:10:10,229 - INFO - Cleared pending actions file
2024-08-19 10:10:10,230 - INFO - Successfully verified cleared pending actions file. Content: []
2024-08-19 10:10:10,230 - INFO - Cleared operator decisions file
2024-08-19 10:10:10,231 - INFO - Successfully verified cleared operator decisions file. Content: []
2024-08-19 10:10:10,231 - INFO - Surplus management completed. Approved actions: 0, Initial surplus: 111 kW, Remaining surplus: 111 kW
2024-08-19 10:10:10,231 - INFO - System status summary:
2024-08-19 10:10:10,231 - INFO - Total generated power: 220 kW
2024-08-19 10:10:10,232 - INFO - Total demand: 109 kW
2024-08-19 10:10:10,232 - INFO - Number of active generating devices: 5
2024-08-19 10:10:10,232 - INFO - Number of inactive generating devices: 1
2024-08-19 10:10:10,232 - INFO - Active generating devices:
2024-08-19 10:10:10,232 - INFO -   - PV Panel 1: 15 kW / 100 kW
2024-08-19 10:10:10,232 - INFO -   - PV Panel 2: 100 kW / 120 kW
2024-08-19 10:10:10,233 - INFO -   - Wind Turbine 1: 40 kW / 200 kW
2024-08-19 10:10:10,233 - INFO -   - Fuel Turbine 1: 40 kW / 300 kW
2024-08-19 10:10:10,233 - INFO -   - Fuel Cell 1: 25 kW / 150 kW
2024-08-19 10:10:10,233 - INFO - Inactive generating devices:
2024-08-19 10:10:10,233 - INFO -   - Wind Turbine 2: max output 180 kW
2024-08-19 10:10:10,233 - INFO - BESS charge level: 311.0 kWh / 350 kWh
2024-08-19 10:10:10,234 - INFO - Energy purchase: Available (Limit: 300 kWh, Current: 150 kWh)
2024-08-19 10:10:10,234 - INFO - Energy sale: Available (Limit: 200 kWh, Current: 50 kWh)
2024-08-19 10:10:10,235 - INFO - Live data saved to live_data.json
2024-08-19 10:10:10,236 - INFO - Live contract data saved to live_contract_data.json
2024-08-19 10:10:10,334 - INFO - Iteration completed in 5.12 seconds
2024-08-19 10:10:10,335 - INFO - BESS charge level after actions: 311.00 kWh
2024-08-19 10:10:10,335 - INFO - Waiting 15 seconds for next iteration
2024-08-19 10:10:25,342 - INFO - Loaded operation mode: semi-automatic
2024-08-19 10:10:25,343 - INFO - Attempting to update pv_panel: {'id': 1, 'name': 'PV Panel 1', 'priority': 1, 'max_output': 100, 'min_output': 10, 'actual_output': 15, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:25,343 - INFO - Pv_panel PV Panel 1 updated successfully.
2024-08-19 10:10:25,343 - INFO - Attempting to update pv_panel: {'id': 2, 'name': 'PV Panel 2', 'priority': 1, 'max_output': 120, 'min_output': 15, 'actual_output': 100, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:25,344 - INFO - Pv_panel PV Panel 2 updated successfully.
2024-08-19 10:10:25,344 - INFO - Attempting to update wind_turbine: {'id': 3, 'name': 'Wind Turbine 1', 'priority': 2, 'max_output': 200, 'min_output': 20, 'actual_output': 40, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:25,344 - INFO - Wind_turbine Wind Turbine 1 updated successfully.
2024-08-19 10:10:25,344 - INFO - Attempting to update wind_turbine: {'id': 4, 'name': 'Wind Turbine 2', 'priority': 2, 'max_output': 180, 'min_output': 20, 'actual_output': 0, 'switch_status': False, 'device_status': 'offline', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:25,344 - INFO - Wind_turbine Wind Turbine 2 updated successfully.
2024-08-19 10:10:25,345 - INFO - Attempting to update fuel_turbine: {'id': 5, 'name': 'Fuel Turbine 1', 'priority': 4, 'max_output': 300, 'min_output': 30, 'actual_output': 40, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:25,345 - INFO - Fuel_turbine Fuel Turbine 1 updated successfully.
2024-08-19 10:10:25,345 - INFO - Attempting to update fuel_cell: {'id': 6, 'name': 'Fuel Cell 1', 'priority': 3, 'max_output': 150, 'min_output': 15, 'actual_output': 25, 'switch_status': True, 'device_status': 'online', 'pending_action': None, 'action_approved': None}
2024-08-19 10:10:25,345 - INFO - Fuel_cell Fuel Cell 1 updated successfully.
2024-08-19 10:10:25,345 - INFO - Attempting to update bess: {'id': 7, 'name': 'BESS 1', 'capacity': 350, 'charge_level': 311.0, 'switch_status': True, 'device_status': 'online'}
2024-08-19 10:10:25,346 - INFO - BESS BESS 1 updated successfully.
2024-08-19 10:10:25,346 - INFO - Data loaded successfully.
2024-08-19 10:10:25,351 - INFO - Loaded live data
2024-08-19 10:10:25,351 - INFO - Starting a new iteration in semi-automatic mode
2024-08-19 10:10:25,352 - INFO - Starting device update based on meter readings
2024-08-19 10:10:25,352 - INFO - Checking 6 devices for updates based on meter readings
2024-08-19 10:10:25,352 - INFO - Checking device PV Panel 1 (ID: 1). Device status: online, Meter status: online, Meter reading: 15 kW
2024-08-19 10:10:25,352 - INFO - Checking device PV Panel 2 (ID: 2). Device status: online, Meter status: online, Meter reading: 98 kW
2024-08-19 10:10:25,352 - INFO - Checking device Wind Turbine 1 (ID: 3). Device status: online, Meter status: online, Meter reading: 42 kW
2024-08-19 10:10:25,353 - INFO - No meter found for device Wind Turbine 2 (ID: 4)
2024-08-19 10:10:25,353 - INFO - Checking device Fuel Turbine 1 (ID: 5). Device status: online, Meter status: online, Meter reading: 38 kW
2024-08-19 10:10:25,353 - INFO - No meter found for device Fuel Cell 1 (ID: 6)
2024-08-19 10:10:25,353 - INFO - System status summary:
2024-08-19 10:10:25,353 - INFO - Total generated power: 220 kW
2024-08-19 10:10:25,354 - INFO - Total demand: 109 kW
2024-08-19 10:10:25,354 - INFO - Number of active generating devices: 5
2024-08-19 10:10:25,354 - INFO - Number of inactive generating devices: 1
2024-08-19 10:10:25,354 - INFO - Active generating devices:
2024-08-19 10:10:25,354 - INFO -   - PV Panel 1: 15 kW / 100 kW
2024-08-19 10:10:25,355 - INFO -   - PV Panel 2: 100 kW / 120 kW
2024-08-19 10:10:25,355 - INFO -   - Wind Turbine 1: 40 kW / 200 kW
2024-08-19 10:10:25,355 - INFO -   - Fuel Turbine 1: 40 kW / 300 kW
2024-08-19 10:10:25,355 - INFO -   - Fuel Cell 1: 25 kW / 150 kW
2024-08-19 10:10:25,355 - INFO - Inactive generating devices:
2024-08-19 10:10:25,355 - INFO -   - Wind Turbine 2: max output 180 kW
2024-08-19 10:10:25,356 - INFO - BESS charge level: 311.0 kWh / 350 kWh
2024-08-19 10:10:25,356 - INFO - Energy purchase: Available (Limit: 300 kWh, Current: 150 kWh)
2024-08-19 10:10:25,356 - INFO - Energy sale: Available (Limit: 200 kWh, Current: 50 kWh)
2024-08-19 10:10:25,356 - INFO - BESS charge level before actions: 311.00 kWh
2024-08-19 10:10:25,356 - INFO - Total generated power: 220 kW
2024-08-19 10:10:25,357 - INFO - Total demand power: 109 kW
2024-08-19 10:10:25,357 - INFO - Power surplus detected: 111 kW - starting surplus management
2024-08-19 10:10:25,357 - INFO - Managing surplus in semi-automatic mode: 111 kW
2024-08-19 10:10:25,357 - INFO - BESS available: True, Export possible: True
2024-08-19 10:10:25,357 - INFO - Generated 2 possible actions
2024-08-19 10:10:25,358 - INFO - Saved 2 pending actions
2024-08-19 10:10:25,358 - INFO - Pending action: {
  "id": "861116ad-3359-42b9-a5a4-0bf560da5071",
  "device_id": 7,
  "device_name": "BESS 1",
  "device_type": "BESS",
  "action": "charge:39.0",
  "current_output": 311.0,
  "proposed_output": 350.0,
  "reduction": 39.0
}
2024-08-19 10:10:25,359 - INFO - Pending action: {
  "id": "7a915429-0d64-4a23-ae3b-55aa345be06a",
  "device_id": "OSD",
  "device_name": "OSD",
  "device_type": "OSD",
  "action": "sell:72.0",
  "current_output": 50,
  "proposed_output": 122.0,
  "reduction": 72.0
}
2024-08-19 10:10:25,359 - INFO - Successfully verified pending actions file. Content: [
  {
    "id": "861116ad-3359-42b9-a5a4-0bf560da5071",
    "device_id": 7,
    "device_name": "BESS 1",
    "device_type": "BESS",
    "action": "charge:39.0",
    "current_output": 311.0,
    "proposed_output": 350.0,
    "reduction": 39.0
  },
  {
    "id": "7a915429-0d64-4a23-ae3b-55aa345be06a",
    "device_id": "OSD",
    "device_name": "OSD",
    "device_type": "OSD",
    "action": "sell:72.0",
    "current_output": 50,
    "proposed_output": 122.0,
    "reduction": 72.0
  }
]
2024-08-19 10:10:25,359 - INFO - Generated operator decisions:
2024-08-19 10:10:25,359 - INFO - Decision: {
  "approved": false,
  "action_id": "861116ad-3359-42b9-a5a4-0bf560da5071"
}
2024-08-19 10:10:25,360 - INFO - Decision: {
  "approved": false,
  "action_id": "7a915429-0d64-4a23-ae3b-55aa345be06a"
}
2024-08-19 10:10:25,361 - INFO - Saved 2 operator decisions
2024-08-19 10:10:25,362 - INFO - Operator decision: {
  "approved": false,
  "action_id": "861116ad-3359-42b9-a5a4-0bf560da5071"
}
2024-08-19 10:10:25,362 - INFO - Operator decision: {
  "approved": false,
  "action_id": "7a915429-0d64-4a23-ae3b-55aa345be06a"
}
2024-08-19 10:10:25,362 - INFO - Successfully verified operator decisions file. Content: [
  {
    "approved": false,
    "action_id": "861116ad-3359-42b9-a5a4-0bf560da5071"
  },
  {
    "approved": false,
    "action_id": "7a915429-0d64-4a23-ae3b-55aa345be06a"
  }
]
2024-08-19 10:10:25,363 - INFO - Action rejected: {
  "id": "861116ad-3359-42b9-a5a4-0bf560da5071",
  "device_id": 7,
  "device_name": "BESS 1",
  "device_type": "BESS",
  "action": "charge:39.0",
  "current_output": 311.0,
  "proposed_output": 350.0,
  "reduction": 39.0
}
2024-08-19 10:10:25,363 - INFO - Action rejected: {
  "id": "7a915429-0d64-4a23-ae3b-55aa345be06a",
  "device_id": "OSD",
  "device_name": "OSD",
  "device_type": "OSD",
  "action": "sell:72.0",
  "current_output": 50,
  "proposed_output": 122.0,
  "reduction": 72.0
}
2024-08-19 10:10:30,364 - INFO - Cleared pending actions file
2024-08-19 10:10:30,365 - INFO - Successfully verified cleared pending actions file. Content: []
2024-08-19 10:10:30,366 - INFO - Cleared operator decisions file
2024-08-19 10:10:30,366 - INFO - Successfully verified cleared operator decisions file. Content: []
2024-08-19 10:10:30,366 - INFO - Surplus management completed. Approved actions: 0, Initial surplus: 111 kW, Remaining surplus: 111 kW
2024-08-19 10:10:30,367 - INFO - System status summary:
2024-08-19 10:10:30,367 - INFO - Total generated power: 220 kW
2024-08-19 10:10:30,367 - INFO - Total demand: 109 kW
2024-08-19 10:10:30,368 - INFO - Number of active generating devices: 5
2024-08-19 10:10:30,368 - INFO - Number of inactive generating devices: 1
2024-08-19 10:10:30,368 - INFO - Active generating devices:
2024-08-19 10:10:30,368 - INFO -   - PV Panel 1: 15 kW / 100 kW
2024-08-19 10:10:30,368 - INFO -   - PV Panel 2: 100 kW / 120 kW
2024-08-19 10:10:30,369 - INFO -   - Wind Turbine 1: 40 kW / 200 kW
2024-08-19 10:10:30,369 - INFO -   - Fuel Turbine 1: 40 kW / 300 kW
2024-08-19 10:10:30,369 - INFO -   - Fuel Cell 1: 25 kW / 150 kW
2024-08-19 10:10:30,369 - INFO - Inactive generating devices:
2024-08-19 10:10:30,369 - INFO -   - Wind Turbine 2: max output 180 kW
2024-08-19 10:10:30,369 - INFO - BESS charge level: 311.0 kWh / 350 kWh
2024-08-19 10:10:30,370 - INFO - Energy purchase: Available (Limit: 300 kWh, Current: 150 kWh)
2024-08-19 10:10:30,370 - INFO - Energy sale: Available (Limit: 200 kWh, Current: 50 kWh)
2024-08-19 10:10:30,370 - INFO - Live data saved to live_data.json
2024-08-19 10:10:30,371 - INFO - Live contract data saved to live_contract_data.json
2024-08-19 10:10:30,472 - INFO - Iteration completed in 5.12 seconds
2024-08-19 10:10:30,472 - INFO - BESS charge level after actions: 311.00 kWh
2024-08-19 10:10:30,472 - INFO - Waiting 15 seconds for next iteration
2024-08-19 10:10:30,884 - INFO - Energy management stopping
2024-08-19 10:10:30,884 - INFO - Energy management stopped
